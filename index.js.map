{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * VIRTUO-CELL CORE SCRIPT\n * Vanilla JS Only\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    // 1. Хедер: изменение при скролле\n    const header = document.querySelector('#header');\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('scrolled', window.scrollY > 50);\n    });\n\n    // 2. Инициализация канваса Hero (Интерактивная сеть)\n    const initHeroCanvas = () => {\n        const canvas = document.getElementById('hero-interactive-canvas');\n        const ctx = canvas.getContext('2d');\n        let particles = [];\n        const mouse = { x: null, y: null, radius: 150 };\n\n        window.addEventListener('mousemove', e => {\n            mouse.x = e.x;\n            mouse.y = e.y;\n        });\n\n        const resize = () => {\n            canvas.width = window.innerWidth;\n            canvas.height = window.innerHeight;\n        };\n        window.addEventListener('resize', resize);\n        resize();\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * canvas.width;\n                this.y = Math.random() * canvas.height;\n                this.baseX = this.x;\n                this.baseY = this.y;\n                this.size = 2;\n                this.density = (Math.random() * 30) + 1;\n            }\n            draw() {\n                ctx.fillStyle = '#6366f1';\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            update() {\n                let dx = mouse.x - this.x;\n                let dy = mouse.y - this.y;\n                let dist = Math.sqrt(dx*dx + dy*dy);\n                if (dist < mouse.radius) {\n                    let force = (mouse.radius - dist) / mouse.radius;\n                    this.x -= (dx / dist) * force * this.density;\n                    this.y -= (dy / dist) * force * this.density;\n                } else {\n                    if (this.x !== this.baseX) this.x -= (this.x - this.baseX) / 15;\n                    if (this.y !== this.baseY) this.y -= (this.y - this.baseY) / 15;\n                }\n            }\n        }\n\n        const init = () => {\n            particles = [];\n            for(let i=0; i<80; i++) particles.push(new Particle());\n        };\n\n        const animate = () => {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            particles.forEach(p => {\n                p.update();\n                p.draw();\n            });\n            // Линии\n            for(let a=0; a<particles.length; a++) {\n                for(let b=a; b<particles.length; b++) {\n                    let dx = particles[a].x - particles[b].x;\n                    let dy = particles[a].y - particles[b].y;\n                    let dist = Math.sqrt(dx*dx + dy*dy);\n                    if(dist < 150) {\n                        ctx.strokeStyle = `rgba(99, 102, 241, ${1 - dist/150})`;\n                        ctx.beginPath();\n                        ctx.moveTo(particles[a].x, particles[a].y);\n                        ctx.lineTo(particles[b].x, particles[b].y);\n                        ctx.stroke();\n                    }\n                }\n            }\n            requestAnimationFrame(animate);\n        };\n        init();\n        animate();\n    };\n\n    // 3. Анимация появления Hero текста\n    const animateHero = () => {\n        const words = document.querySelectorAll('.hero__title .word');\n        words.forEach((w, i) => setTimeout(() => w.classList.add('visible'), i * 150));\n        setTimeout(() => document.querySelector('.hero__subtitle').classList.add('visible'), 600);\n        setTimeout(() => document.querySelector('.hero__actions').classList.add('visible'), 800);\n    };\n\n    // 4. Vanilla Tilt Effect (Эффект наклона карточек)\n    const initTilt = () => {\n        const cards = document.querySelectorAll('[data-tilt]');\n        cards.forEach(card => {\n            card.addEventListener('mousemove', e => {\n                const rect = card.getBoundingClientRect();\n                const x = e.clientX - rect.left;\n                const y = e.clientY - rect.top;\n                const xc = rect.width / 2;\n                const yc = rect.height / 2;\n                const dx = x - xc;\n                const dy = y - yc;\n                card.style.transform = `rotateY(${dx / 10}deg) rotateX(${-dy / 10}deg) translateY(-10px)`;\n            });\n            card.addEventListener('mouseleave', () => {\n                card.style.transform = `rotateY(0deg) rotateX(0deg) translateY(0)`;\n            });\n        });\n    };\n\n    // 5. Счётчики статистики (Intersection Observer)\n    const initCounters = () => {\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    const num = entry.target;\n                    const target = +num.getAttribute('data-target');\n                    let count = 0;\n                    const speed = target / 50;\n                    const update = () => {\n                        count += speed;\n                        if (count < target) {\n                            num.innerText = Math.floor(count);\n                            setTimeout(update, 20);\n                        } else {\n                            num.innerText = target;\n                        }\n                    };\n                    update();\n                    observer.unobserve(num);\n                }\n            });\n        }, { threshold: 1 });\n\n        document.querySelectorAll('.stat-num').forEach(n => observer.observe(n));\n    };\n\n    // Запуск всех модулей\n    initHeroCanvas();\n    animateHero();\n    initTilt();\n    initCounters();\n    // 6. Benefits Path Canvas (Связи между карточками)\n    const initBenefitsCanvas = () => {\n        const bCanvas = document.getElementById('benefits-path-canvas');\n        const bCtx = bCanvas.getContext('2d');\n        const cards = document.querySelectorAll('.benefit-card');\n        \n        const resizeB = () => {\n            bCanvas.width = bCanvas.parentElement.offsetWidth;\n            bCanvas.height = bCanvas.parentElement.offsetHeight;\n        };\n        window.addEventListener('resize', resizeB);\n        resizeB();\n\n        function drawLines() {\n            bCtx.clearRect(0, 0, bCanvas.width, bCanvas.height);\n            bCtx.beginPath();\n            bCtx.setLineDash([5, 15]);\n            bCtx.strokeStyle = 'rgba(99, 102, 241, 0.2)';\n            \n            const points = [];\n            cards.forEach(card => {\n                const rect = card.getBoundingClientRect();\n                const parentRect = bCanvas.getBoundingClientRect();\n                points.push({\n                    x: rect.left - parentRect.left + rect.width / 2,\n                    y: rect.top - parentRect.top + rect.height / 2\n                });\n            });\n\n            if (points.length > 1) {\n                bCtx.moveTo(points[0].x, points[0].y);\n                for (let i = 1; i < points.length; i++) {\n                    bCtx.lineTo(points[i].x, points[i].y);\n                }\n            }\n            bCtx.stroke();\n            requestAnimationFrame(drawLines);\n        }\n        drawLines();\n    };\n\n    // 7. Простая анимация появления при скролле (Scroll Reveal)\n    const initScrollReveal = () => {\n        const items = document.querySelectorAll('.benefit-card, .section-title, .section-desc');\n        const reveal = () => {\n            items.forEach(item => {\n                const rect = item.getBoundingClientRect();\n                if (rect.top < window.innerHeight * 0.85) {\n                    item.style.opacity = '1';\n                    item.style.transform = 'translateY(0)';\n                }\n            });\n        };\n        \n        // Начальные стили для анимации\n        items.forEach(item => {\n            item.style.opacity = '0';\n            item.style.transform = 'translateY(30px)';\n            item.style.transition = 'all 0.8s cubic-bezier(0.23, 1, 0.32, 1)';\n        });\n\n        window.addEventListener('scroll', reveal);\n        reveal(); // Запуск один раз для проверки видимости\n    };\n\n    // Запуск новых модулей\n    initBenefitsCanvas();\n    initScrollReveal();\n});"],"names":["header","initHeroCanvas","canvas","ctx","particles","mouse","e","resize","Particle","dx","dy","dist","force","init","i","animate","p","a","b","animateHero","w","initTilt","card","rect","x","y","xc","yc","initCounters","observer","entries","entry","num","target","count","speed","update","n","initBenefitsCanvas","bCanvas","bCtx","cards","resizeB","drawLines","points","parentRect","initScrollReveal","items","reveal","item"],"mappings":"0uBAKA,SAAS,iBAAiB,mBAAoB,IAAM,CAGhD,MAAMA,EAAS,SAAS,cAAc,SAAS,EAC/C,OAAO,iBAAiB,SAAU,IAAM,CACpCA,EAAO,UAAU,OAAO,WAAY,OAAO,QAAU,EAAE,CAC/D,CAAK,EAGD,MAAMC,EAAiB,IAAM,CACzB,MAAMC,EAAS,SAAS,eAAe,yBAAyB,EAC1DC,EAAMD,EAAO,WAAW,IAAI,EAClC,IAAIE,EAAY,CAAE,EAClB,MAAMC,EAAQ,CAAE,EAAG,KAAM,EAAG,KAAM,OAAQ,GAAK,EAE/C,OAAO,iBAAiB,YAAaC,GAAK,CACtCD,EAAM,EAAIC,EAAE,EACZD,EAAM,EAAIC,EAAE,CACxB,CAAS,EAED,MAAMC,EAAS,IAAM,CACjBL,EAAO,MAAQ,OAAO,WACtBA,EAAO,OAAS,OAAO,WAC1B,EACD,OAAO,iBAAiB,SAAUK,CAAM,EACxCA,EAAQ,EAER,MAAMC,CAAS,CACX,aAAc,CACV,KAAK,EAAI,KAAK,OAAQ,EAAGN,EAAO,MAChC,KAAK,EAAI,KAAK,OAAQ,EAAGA,EAAO,OAChC,KAAK,MAAQ,KAAK,EAClB,KAAK,MAAQ,KAAK,EAClB,KAAK,KAAO,EACZ,KAAK,QAAW,KAAK,OAAQ,EAAG,GAAM,CACtD,CACY,MAAO,CACHC,EAAI,UAAY,UAChBA,EAAI,UAAW,EACfA,EAAI,IAAI,KAAK,EAAG,KAAK,EAAG,KAAK,KAAM,EAAG,KAAK,GAAK,CAAC,EACjDA,EAAI,KAAM,CAC1B,CACY,QAAS,CACL,IAAIM,EAAKJ,EAAM,EAAI,KAAK,EACpBK,EAAKL,EAAM,EAAI,KAAK,EACpBM,EAAO,KAAK,KAAKF,EAAGA,EAAKC,EAAGA,CAAE,EAClC,GAAIC,EAAON,EAAM,OAAQ,CACrB,IAAIO,GAASP,EAAM,OAASM,GAAQN,EAAM,OAC1C,KAAK,GAAMI,EAAKE,EAAQC,EAAQ,KAAK,QACrC,KAAK,GAAMF,EAAKC,EAAQC,EAAQ,KAAK,OACzD,MACwB,KAAK,IAAM,KAAK,QAAO,KAAK,IAAM,KAAK,EAAI,KAAK,OAAS,IACzD,KAAK,IAAM,KAAK,QAAO,KAAK,IAAM,KAAK,EAAI,KAAK,OAAS,GAEjF,CACA,CAEQ,MAAMC,EAAO,IAAM,CACfT,EAAY,CAAE,EACd,QAAQU,EAAE,EAAGA,EAAE,GAAIA,IAAKV,EAAU,KAAK,IAAII,CAAU,CACxD,EAEKO,EAAU,IAAM,CAClBZ,EAAI,UAAU,EAAG,EAAGD,EAAO,MAAOA,EAAO,MAAM,EAC/CE,EAAU,QAAQY,GAAK,CACnBA,EAAE,OAAQ,EACVA,EAAE,KAAM,CACxB,CAAa,EAED,QAAQC,EAAE,EAAGA,EAAEb,EAAU,OAAQa,IAC7B,QAAQC,EAAED,EAAGC,EAAEd,EAAU,OAAQc,IAAK,CAClC,IAAIT,EAAKL,EAAUa,CAAC,EAAE,EAAIb,EAAUc,CAAC,EAAE,EACnCR,EAAKN,EAAUa,CAAC,EAAE,EAAIb,EAAUc,CAAC,EAAE,EACnCP,EAAO,KAAK,KAAKF,EAAGA,EAAKC,EAAGA,CAAE,EAC/BC,EAAO,MACNR,EAAI,YAAc,sBAAsB,EAAIQ,EAAK,GAAG,IACpDR,EAAI,UAAW,EACfA,EAAI,OAAOC,EAAUa,CAAC,EAAE,EAAGb,EAAUa,CAAC,EAAE,CAAC,EACzCd,EAAI,OAAOC,EAAUc,CAAC,EAAE,EAAGd,EAAUc,CAAC,EAAE,CAAC,EACzCf,EAAI,OAAQ,EAEpC,CAEY,sBAAsBY,CAAO,CAChC,EACDF,EAAM,EACNE,EAAS,CACZ,EAGKI,EAAc,IAAM,CACR,SAAS,iBAAiB,oBAAoB,EACtD,QAAQ,CAACC,EAAGN,IAAM,WAAW,IAAMM,EAAE,UAAU,IAAI,SAAS,EAAGN,EAAI,GAAG,CAAC,EAC7E,WAAW,IAAM,SAAS,cAAc,iBAAiB,EAAE,UAAU,IAAI,SAAS,EAAG,GAAG,EACxF,WAAW,IAAM,SAAS,cAAc,gBAAgB,EAAE,UAAU,IAAI,SAAS,EAAG,GAAG,CAC1F,EAGKO,EAAW,IAAM,CACL,SAAS,iBAAiB,aAAa,EAC/C,QAAQC,GAAQ,CAClBA,EAAK,iBAAiB,YAAa,GAAK,CACpC,MAAMC,EAAOD,EAAK,sBAAuB,EACnCE,EAAI,EAAE,QAAUD,EAAK,KACrBE,EAAI,EAAE,QAAUF,EAAK,IACrBG,EAAKH,EAAK,MAAQ,EAClBI,EAAKJ,EAAK,OAAS,EACnBd,EAAKe,EAAIE,EACThB,EAAKe,EAAIE,EACfL,EAAK,MAAM,UAAY,WAAWb,EAAK,EAAE,gBAAgB,CAACC,EAAK,EAAE,wBACjF,CAAa,EACDY,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,UAAY,2CACvC,CAAa,CACb,CAAS,CACJ,EAGKM,EAAe,IAAM,CACvB,MAAMC,EAAW,IAAI,qBAAsBC,GAAY,CACnDA,EAAQ,QAAQC,GAAS,CACrB,GAAIA,EAAM,eAAgB,CACtB,MAAMC,EAAMD,EAAM,OACZE,EAAS,CAACD,EAAI,aAAa,aAAa,EAC9C,IAAIE,EAAQ,EACZ,MAAMC,EAAQF,EAAS,GACjBG,EAAS,IAAM,CACjBF,GAASC,EACLD,EAAQD,GACRD,EAAI,UAAY,KAAK,MAAME,CAAK,EAChC,WAAWE,EAAQ,EAAE,GAErBJ,EAAI,UAAYC,CAEvB,EACDG,EAAQ,EACRP,EAAS,UAAUG,CAAG,CAC1C,CACA,CAAa,CACb,EAAW,CAAE,UAAW,EAAG,EAEnB,SAAS,iBAAiB,WAAW,EAAE,QAAQK,GAAKR,EAAS,QAAQQ,CAAC,CAAC,CAC1E,EAGDpC,EAAgB,EAChBkB,EAAa,EACbE,EAAU,EACVO,EAAc,EAEd,MAAMU,EAAqB,IAAM,CAC7B,MAAMC,EAAU,SAAS,eAAe,sBAAsB,EACxDC,EAAOD,EAAQ,WAAW,IAAI,EAC9BE,EAAQ,SAAS,iBAAiB,eAAe,EAEjDC,EAAU,IAAM,CAClBH,EAAQ,MAAQA,EAAQ,cAAc,YACtCA,EAAQ,OAASA,EAAQ,cAAc,YAC1C,EACD,OAAO,iBAAiB,SAAUG,CAAO,EACzCA,EAAS,EAET,SAASC,GAAY,CACjBH,EAAK,UAAU,EAAG,EAAGD,EAAQ,MAAOA,EAAQ,MAAM,EAClDC,EAAK,UAAW,EAChBA,EAAK,YAAY,CAAC,EAAG,EAAE,CAAC,EACxBA,EAAK,YAAc,0BAEnB,MAAMI,EAAS,CAAE,EAUjB,GATAH,EAAM,QAAQnB,GAAQ,CAClB,MAAMC,EAAOD,EAAK,sBAAuB,EACnCuB,EAAaN,EAAQ,sBAAuB,EAClDK,EAAO,KAAK,CACR,EAAGrB,EAAK,KAAOsB,EAAW,KAAOtB,EAAK,MAAQ,EAC9C,EAAGA,EAAK,IAAMsB,EAAW,IAAMtB,EAAK,OAAS,CACjE,CAAiB,CACjB,CAAa,EAEGqB,EAAO,OAAS,EAAG,CACnBJ,EAAK,OAAOI,EAAO,CAAC,EAAE,EAAGA,EAAO,CAAC,EAAE,CAAC,EACpC,QAAS9B,EAAI,EAAGA,EAAI8B,EAAO,OAAQ9B,IAC/B0B,EAAK,OAAOI,EAAO9B,CAAC,EAAE,EAAG8B,EAAO9B,CAAC,EAAE,CAAC,CAExD,CACY0B,EAAK,OAAQ,EACb,sBAAsBG,CAAS,CAC3C,CACQA,EAAW,CACd,EAGKG,EAAmB,IAAM,CAC3B,MAAMC,EAAQ,SAAS,iBAAiB,8CAA8C,EAChFC,EAAS,IAAM,CACjBD,EAAM,QAAQE,GAAQ,CACLA,EAAK,sBAAuB,EAChC,IAAM,OAAO,YAAc,MAChCA,EAAK,MAAM,QAAU,IACrBA,EAAK,MAAM,UAAY,gBAE3C,CAAa,CACJ,EAGDF,EAAM,QAAQE,GAAQ,CAClBA,EAAK,MAAM,QAAU,IACrBA,EAAK,MAAM,UAAY,mBACvBA,EAAK,MAAM,WAAa,yCACpC,CAAS,EAED,OAAO,iBAAiB,SAAUD,CAAM,EACxCA,GACH,EAGDV,EAAoB,EACpBQ,EAAkB,CACtB,CAAC"}