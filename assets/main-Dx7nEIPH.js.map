{"version":3,"file":"main-Dx7nEIPH.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * VIRTUO-CELL CORE SCRIPT\n * Safe Version for all pages (Home + Policy pages)\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    // --- ВСПОМОГАТЕЛЬНАЯ ФУНКЦИЯ ДЛЯ БЕЗОПАСНОГО ЗАПУСКА ---\n    // Если элемента нет на странице, функция просто не будет выполняться и не выдаст ошибку\n    const safeInit = (elementId, initFunction) => {\n        const element = document.getElementById(elementId);\n        if (element) {\n            initFunction(element);\n        }\n    };\n\n    // 1. Хедер: изменение при скролле (Работает везде)\n    const header = document.querySelector('#header');\n    if (header) {\n        window.addEventListener('scroll', () => {\n            header.classList.toggle('scrolled', window.scrollY > 50);\n        });\n    }\n\n    // 2. Инициализация канваса Hero (Интерактивная сеть)\n    const initHeroCanvas = (canvas) => {\n        const ctx = canvas.getContext('2d');\n        let particles = [];\n        const mouse = { x: null, y: null, radius: 150 };\n\n        window.addEventListener('mousemove', e => {\n            mouse.x = e.x;\n            mouse.y = e.y;\n        });\n\n        const resize = () => {\n            canvas.width = window.innerWidth;\n            canvas.height = window.innerHeight;\n        };\n        window.addEventListener('resize', resize);\n        resize();\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * canvas.width;\n                this.y = Math.random() * canvas.height;\n                this.baseX = this.x;\n                this.baseY = this.y;\n                this.size = 2;\n                this.density = (Math.random() * 30) + 1;\n            }\n            draw() {\n                ctx.fillStyle = '#6366f1';\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            update() {\n                let dx = mouse.x - this.x;\n                let dy = mouse.y - this.y;\n                let dist = Math.sqrt(dx*dx + dy*dy);\n                if (dist < mouse.radius) {\n                    let force = (mouse.radius - dist) / mouse.radius;\n                    this.x -= (dx / dist) * force * this.density;\n                    this.y -= (dy / dist) * force * this.density;\n                } else {\n                    if (this.x !== this.baseX) this.x -= (this.x - this.baseX) / 15;\n                    if (this.y !== this.baseY) this.y -= (this.y - this.baseY) / 15;\n                }\n            }\n        }\n\n        const init = () => {\n            particles = [];\n            for(let i=0; i<80; i++) particles.push(new Particle());\n        };\n\n        const animate = () => {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            particles.forEach(p => {\n                p.update();\n                p.draw();\n            });\n            for(let a=0; a<particles.length; a++) {\n                for(let b=a; b<particles.length; b++) {\n                    let dx = particles[a].x - particles[b].x;\n                    let dy = particles[a].y - particles[b].y;\n                    let dist = Math.sqrt(dx*dx + dy*dy);\n                    if(dist < 150) {\n                        ctx.strokeStyle = `rgba(99, 102, 241, ${1 - dist/150})`;\n                        ctx.beginPath();\n                        ctx.moveTo(particles[a].x, particles[a].y);\n                        ctx.lineTo(particles[b].x, particles[b].y);\n                        ctx.stroke();\n                    }\n                }\n            }\n            requestAnimationFrame(animate);\n        };\n        init();\n        animate();\n    };\n\n    // 3. Анимация появления Hero текста (Только если есть заголовок)\n    const heroTitle = document.querySelector('.hero__title');\n    if (heroTitle) {\n        const words = document.querySelectorAll('.hero__title .word');\n        words.forEach((w, i) => setTimeout(() => w.classList.add('visible'), i * 150));\n        setTimeout(() => {\n            const subtitle = document.querySelector('.hero__subtitle');\n            if (subtitle) subtitle.classList.add('visible');\n        }, 600);\n        setTimeout(() => {\n            const actions = document.querySelector('.hero__actions');\n            if (actions) actions.classList.add('visible');\n        }, 800);\n    }\n\n    // 4. Vanilla Tilt Effect (Эффект наклона карточек)\n    const cards = document.querySelectorAll('[data-tilt]');\n    if (cards.length > 0) {\n        cards.forEach(card => {\n            card.addEventListener('mousemove', e => {\n                const rect = card.getBoundingClientRect();\n                const x = e.clientX - rect.left;\n                const y = e.clientY - rect.top;\n                const xc = rect.width / 2;\n                const yc = rect.height / 2;\n                const dx = x - xc;\n                const dy = y - yc;\n                card.style.transform = `rotateY(${dx / 10}deg) rotateX(${-dy / 10}deg) translateY(-10px)`;\n            });\n            card.addEventListener('mouseleave', () => {\n                card.style.transform = `rotateY(0deg) rotateX(0deg) translateY(0)`;\n            });\n        });\n    }\n\n    // 5. Счётчики статистики\n    const statNums = document.querySelectorAll('.stat-num');\n    if (statNums.length > 0) {\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    const num = entry.target;\n                    const target = +num.getAttribute('data-target');\n                    let count = 0;\n                    const speed = target / 50;\n                    const update = () => {\n                        count += speed;\n                        if (count < target) {\n                            num.innerText = Math.floor(count);\n                            setTimeout(update, 20);\n                        } else {\n                            num.innerText = target;\n                        }\n                    };\n                    update();\n                    observer.unobserve(num);\n                }\n            });\n        }, { threshold: 1 });\n        statNums.forEach(n => observer.observe(n));\n    }\n\n    // 6. Benefits Path Canvas\n    const initBenefitsCanvas = (bCanvas) => {\n        const bCtx = bCanvas.getContext('2d');\n        const bCards = document.querySelectorAll('.benefit-card');\n        \n        const resizeB = () => {\n            bCanvas.width = bCanvas.parentElement.offsetWidth;\n            bCanvas.height = bCanvas.parentElement.offsetHeight;\n        };\n        window.addEventListener('resize', resizeB);\n        resizeB();\n\n        function drawLines() {\n            bCtx.clearRect(0, 0, bCanvas.width, bCanvas.height);\n            bCtx.beginPath();\n            bCtx.setLineDash([5, 15]);\n            bCtx.strokeStyle = 'rgba(99, 102, 241, 0.2)';\n            const points = [];\n            bCards.forEach(card => {\n                const rect = card.getBoundingClientRect();\n                const parentRect = bCanvas.getBoundingClientRect();\n                points.push({\n                    x: rect.left - parentRect.left + rect.width / 2,\n                    y: rect.top - parentRect.top + rect.height / 2\n                });\n            });\n            if (points.length > 1) {\n                bCtx.moveTo(points[0].x, points[0].y);\n                for (let i = 1; i < points.length; i++) {\n                    bCtx.lineTo(points[i].x, points[i].y);\n                }\n            }\n            bCtx.stroke();\n            requestAnimationFrame(drawLines);\n        }\n        drawLines();\n    };\n\n    // 7. Scroll Reveal\n    const revealItems = document.querySelectorAll('.benefit-card, .section-title, .section-desc');\n    if (revealItems.length > 0) {\n        const reveal = () => {\n            revealItems.forEach(item => {\n                const rect = item.getBoundingClientRect();\n                if (rect.top < window.innerHeight * 0.85) {\n                    item.style.opacity = '1';\n                    item.style.transform = 'translateY(0)';\n                }\n            });\n        };\n        revealItems.forEach(item => {\n            item.style.opacity = '0';\n            item.style.transform = 'translateY(30px)';\n            item.style.transition = 'all 0.8s cubic-bezier(0.23, 1, 0.32, 1)';\n        });\n        window.addEventListener('scroll', reveal);\n        reveal();\n    }\n\n    // 8. Innovation Radar Logic\n    const initRadar = (canvas) => {\n        const ctx = canvas.getContext('2d');\n        const pointsContainer = document.getElementById('radar-points');\n        const detailTitle = document.getElementById('inno-title');\n        const detailText = document.getElementById('inno-text');\n\n        const techData = [\n            { x: 70, y: 30, title: \"Neural Core\", text: \"Ядро на базе AI.\" },\n            { x: 30, y: 40, title: \"Cloud Sync\", text: \"Облачная синхронизация.\" },\n            { x: 55, y: 75, title: \"Smart Contracts\", text: \"Автоматизация выплат.\" },\n            { x: 80, y: 60, title: \"Predictive Analytics\", text: \"Оценка перспектив.\" }\n        ];\n\n        const resizeRadar = () => {\n            canvas.width = canvas.parentElement.offsetWidth;\n            canvas.height = canvas.width;\n        };\n        window.addEventListener('resize', resizeRadar);\n        resizeRadar();\n\n        let angle = 0;\n        techData.forEach(tech => {\n            const node = document.createElement('div');\n            node.className = 'radar-node';\n            node.style.left = tech.x + '%';\n            node.style.top = tech.y + '%';\n            node.addEventListener('mouseenter', () => {\n                if(detailTitle) detailTitle.innerText = tech.title;\n                if(detailText) detailText.innerText = tech.text;\n            });\n            if(pointsContainer) pointsContainer.appendChild(node);\n        });\n\n        const drawRadar = () => {\n            const cx = canvas.width / 2;\n            const cy = canvas.height / 2;\n            const radius = canvas.width * 0.45;\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.strokeStyle = 'rgba(99, 102, 241, 0.15)';\n            for(let i = 1; i <= 3; i++) {\n                ctx.beginPath();\n                ctx.arc(cx, cy, (radius / 3) * i, 0, Math.PI * 2);\n                ctx.stroke();\n            }\n            ctx.save();\n            ctx.translate(cx, cy);\n            ctx.rotate(angle);\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.arc(0, 0, radius, -0.2, 0);\n            ctx.lineTo(0, 0);\n            ctx.fillStyle = 'rgba(99, 102, 241, 0.3)';\n            ctx.fill();\n            ctx.restore();\n            angle += 0.02;\n            requestAnimationFrame(drawRadar);\n        };\n        drawRadar();\n    };\n\n    // 9. Academy Draggable Slider\n    const slider = document.getElementById('academy-slider');\n    if (slider) {\n        const wrapper = slider.parentElement;\n        let isDown = false; let startX; let scrollLeft;\n        wrapper.addEventListener('mousedown', (e) => {\n            isDown = true;\n            startX = e.pageX - slider.offsetLeft;\n            slider.style.transition = 'none';\n        });\n        wrapper.addEventListener('mouseleave', () => isDown = false);\n        wrapper.addEventListener('mouseup', () => {\n            isDown = false;\n            slider.style.transition = 'transform 0.5s cubic-bezier(0.23, 1, 0.32, 1)';\n        });\n        wrapper.addEventListener('mousemove', (e) => {\n            if (!isDown) return;\n            e.preventDefault();\n            const x = e.pageX - slider.offsetLeft;\n            const walk = (x - startX) * 2;\n            slider.style.transform = `translateX(${walk}px)`;\n        });\n    }\n\n    // 10. Contact Form Logic\n    const contactForm = document.getElementById('contactForm');\n    if (contactForm) {\n        const phoneInput = document.getElementById('userPhone');\n        const captchaLabel = document.getElementById('captcha-task');\n        const formMessage = document.getElementById('formMessage');\n        const a = Math.floor(Math.random() * 10) + 1;\n        const b = Math.floor(Math.random() * 10) + 1;\n        const correctAnswer = a + b;\n        if(captchaLabel) captchaLabel.innerText = `${a} + ${b}`;\n\n        if(phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n            });\n        }\n\n        contactForm.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const userCaptcha = document.getElementById('captchaInput').value;\n            if (parseInt(userCaptcha) !== correctAnswer) {\n                formMessage.innerText = \"Ошибка капчи.\";\n                formMessage.className = \"form-message error\";\n                return;\n            }\n            const submitBtn = contactForm.querySelector('button');\n            submitBtn.innerText = \"Отправка...\";\n            submitBtn.disabled = true;\n            await new Promise(resolve => setTimeout(resolve, 1500));\n            contactForm.reset();\n            formMessage.innerText = \"Успешно отправлено!\";\n            formMessage.className = \"form-message success\";\n            submitBtn.innerText = \"Отправлено\";\n        });\n    }\n\n    // 11. Mobile Menu Toggle (Работает всегда)\n    const burger = document.getElementById('burger');\n    const menu = document.getElementById('mobileMenu');\n    const mobileLinks = document.querySelectorAll('.mobile-link');\n    if (burger && menu) {\n        const toggleMenu = () => {\n            burger.classList.toggle('active');\n            menu.classList.toggle('active');\n            document.body.style.overflow = menu.classList.contains('active') ? 'hidden' : '';\n        };\n        burger.addEventListener('click', toggleMenu);\n        mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));\n    }\n\n    // 12. Cookie Popup\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n    if (cookiePopup && acceptBtn) {\n        if (!localStorage.getItem('cookiesAccepted')) {\n            setTimeout(() => cookiePopup.classList.add('active'), 2000);\n        }\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    // ЗАПУСК СЛОЖНЫХ КАНВАСОВ ЧЕРЕЗ ПРОВЕРКУ\n    safeInit('hero-interactive-canvas', initHeroCanvas);\n    safeInit('benefits-path-canvas', initBenefitsCanvas);\n    safeInit('radar-canvas', initRadar);\n\n});"],"names":["safeInit","elementId","initFunction","element","header","initHeroCanvas","canvas","ctx","particles","mouse","e","resize","Particle","dx","dy","dist","force","init","i","animate","p","a","b","w","subtitle","actions","cards","card","rect","x","y","xc","yc","statNums","observer","entries","entry","num","target","count","speed","update","n","initBenefitsCanvas","bCanvas","bCtx","bCards","resizeB","drawLines","points","parentRect","revealItems","reveal","item","initRadar","pointsContainer","detailTitle","detailText","techData","resizeRadar","angle","tech","node","drawRadar","cx","cy","radius","slider","wrapper","isDown","startX","walk","contactForm","phoneInput","captchaLabel","formMessage","correctAnswer","userCaptcha","submitBtn","resolve","burger","menu","mobileLinks","toggleMenu","link","cookiePopup","acceptBtn"],"mappings":"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"}